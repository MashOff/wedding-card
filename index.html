<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jemputan Kahwin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Playfair Display', serif;
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .video-background {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -1;
            background-size: cover;
            background-position: center;
            background-color: #333;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 0;
        }

        .intro-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            transition: opacity 1s ease-out;
            text-align: center;
        }

        .card {
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            padding: 2rem;
            text-align: center;
            max-width: 450px;
            width: 90%;
            position: relative;
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in;
        }

        .confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 5;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffd700; /* Gold */
            opacity: 0;
            animation: fall 5s linear infinite;
            border-radius: 50%;
        }

        .confetti.flower {
            background-color: #ffffff; /* White */
            animation-duration: 7s;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(120vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .animated-text {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInAndSlideUp 1s ease-out forwards;
        }
        
        @keyframes fadeInAndSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .delay-1 { animation-delay: 0.5s; }
        .delay-2 { animation-delay: 1.0s; }
        .delay-3 { animation-delay: 1.5s; }
        .delay-4 { animation-delay: 2.0s; }
        .delay-5 { animation-delay: 2.5s; }
        .delay-6 { animation-delay: 3.0s; }
        .delay-7 { animation-delay: 3.5s; }
        .delay-8 { animation-delay: 4.0s; }
        .delay-9 { animation-delay: 4.5s; }
        .delay-10 { animation-delay: 5.0s; }

        /* Icon Button Styles */
        .icon-btn {
            background-color: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .icon-btn:hover {
            background-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

        .modal-content {
            background-color: #333;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            width: 400px;
            position: relative;
        }
    </style>
</head>
<body>
    <video autoplay muted loop class="video-background">
        <!-- Replace with the URL to your video file -->
        <source src="https://www.example.com/your-wedding-video.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="overlay"></div>

    <div class="intro-page" id="introPage">
        <h1 class="text-5xl md:text-6xl font-bold font-[Dancing+Script] animated-text delay-1">The Wedding of</h1>
        <h1 class="text-5xl md:text-6xl font-bold mt-2 font-[Dancing+Script] animated-text delay-2">Muhammad Hanis & Nooraniesha</h1>
        <button id="open-btn" class="mt-8 px-6 py-3 bg-white text-maroon-700 font-bold rounded-full shadow-lg transition-transform hover:scale-105 duration-300 animated-text delay-3" style="color: #7a3e36;">Open Invitation</button>
    </div>

    <div class="confetti-container" id="confetti-container"></div>
    
    <audio id="background-music" loop>
        <!-- Replace with a link to your MP3 file -->
        <source src="https://www.example.com/your-malay-wedding-song.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="card" id="mainCard">
        <h3 class="text-xl font-light animated-text delay-1">Dengan Izin Allah S.W.T</h3>
        <p class="text-sm font-light animated-text delay-2">Sirih berlipat sirih pinang,<br>Sirih dari Kedah sebatang sirih,<br>Pemanis kata selamat datang,<br>Awal bismillah pembuka tirai.</p>
        
        <h1 class="text-5xl md:text-6xl font-bold my-4 font-[Dancing+Script] animated-text delay-3">
            Muhammad Hanis <span class="text-3xl md:text-4xl">&</span> Nooraniesha Nordin
        </h1>
        <p class="text-base md:text-lg animated-text delay-4">Dengan penuh kesyukuran ke hadrat Ilahi, kami menjemput tuan/puan ke majlis perkahwinan kami.</p>
        
        <hr class="my-6 border-gray-500 animated-text delay-5">

        <p class="text-lg font-bold animated-text delay-6">Sabtu, 10 Rabiulakhir 1447H</p>
        <p class="text-lg animated-text delay-6">25 Oktober 2025</p>
        <p class="text-base mt-2 animated-text delay-7">Dewan Perkahwinan The Grand Ballroom, Kuala Lumpur</p>
        
        <div class="flex justify-center items-center space-x-4 mt-8">
            <!-- Location Button -->
            <a href="https://maps.app.goo.gl/YourGoogleMapsLink" target="_blank" class="w-16 h-16 flex items-center justify-center icon-btn rounded-full shadow-lg animated-text delay-8">
                <i class="fas fa-map-marker-alt text-2xl"></i>
            </a>

            <!-- RSVP Button -->
            <a href="https://docs.google.com/forms/d/e/YourRSVPFormLink/viewform" target="_blank" class="w-16 h-16 flex items-center justify-center icon-btn rounded-full shadow-lg animated-text delay-9">
                <i class="fas fa-ticket-alt text-2xl"></i>
            </a>

            <!-- WhatsApp Button -->
            <a href="https://wa.me/60123456789" target="_blank" class="w-16 h-16 flex items-center justify-center icon-btn rounded-full shadow-lg animated-text delay-10">
                <i class="fab fa-whatsapp text-2xl"></i>
            </a>
        </div>
        
        <div class="mt-8">
            <button id="generateVowBtn" class="px-6 py-3 bg-white text-maroon-700 font-bold rounded-full shadow-lg transition-transform hover:scale-105 duration-300" style="color: #7a3e36;">Generate a Vow ✨</button>
        </div>
    </div>

    <!-- Vow Generator Modal -->
    <div class="modal-overlay" id="vowModal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Generate Your Vow ✨</h2>
            <textarea id="vowInput" class="w-full h-24 p-2 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500" placeholder="Enter a special memory, a wish, or a message about the couple..."></textarea>
            <div class="mt-4 flex justify-between items-center">
                <button id="submitVowBtn" class="px-4 py-2 bg-amber-500 text-white font-bold rounded-full transition-transform hover:scale-105">Generate</button>
                <div id="loadingIndicator" class="hidden">
                    <i class="fas fa-spinner fa-spin text-amber-500 text-2xl"></i>
                </div>
                <button id="closeModalBtn" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full transition-transform hover:scale-105">Close</button>
            </div>
            <div id="vowOutput" class="mt-4 text-center"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const openBtn = document.getElementById('open-btn');
            const introPage = document.getElementById('introPage');
            const mainCard = document.getElementById('mainCard');
            const music = document.getElementById('background-music');
            const confettiContainer = document.getElementById('confetti-container');
            const video = document.querySelector('video');

            const vowModal = document.getElementById('vowModal');
            const generateVowBtn = document.getElementById('generateVowBtn');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const submitVowBtn = document.getElementById('submitVowBtn');
            const vowInput = document.getElementById('vowInput');
            const vowOutput = document.getElementById('vowOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            // Replace with your actual Gemini API key
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            openBtn.addEventListener('click', async () => {
                introPage.style.opacity = '0';
                setTimeout(() => {
                    introPage.style.display = 'none';
                    mainCard.style.visibility = 'visible';
                    mainCard.style.opacity = '1';
                    
                    // Start music and confetti only after the card is visible
                    music.play();
                    
                    const confettiColors = ['#ffd700', '#ffffff', '#b87333']; // Gold, White, Bronze
                    const numberOfConfetti = 50;
        
                    for (let i = 0; i < numberOfConfetti; i++) {
                        const confetti = document.createElement('div');
                        confetti.classList.add('confetti');
                        if (Math.random() < 0.3) {
                            confetti.classList.add('flower');
                            confetti.style.width = '12px';
                            confetti.style.height = '12px';
                        }
                        confetti.style.left = `${Math.random() * 100}vw`;
                        confetti.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                        confetti.style.animationDelay = `${Math.random() * 5}s`;
                        confettiContainer.appendChild(confetti);
                    }
                }, 1000); // Wait for the fade-out to complete
            });

            // Vow Generator Logic
            generateVowBtn.addEventListener('click', () => {
                vowModal.style.visibility = 'visible';
                vowModal.style.opacity = '1';
            });

            closeModalBtn.addEventListener('click', () => {
                vowModal.style.opacity = '0';
                setTimeout(() => {
                    vowModal.style.visibility = 'hidden';
                    vowOutput.innerHTML = '';
                    vowInput.value = '';
                }, 300);
            });

            submitVowBtn.addEventListener('click', async () => {
                const prompt = vowInput.value;
                if (!prompt) return;

                loadingIndicator.classList.remove('hidden');
                submitVowBtn.disabled = true;
                vowOutput.innerHTML = '';

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{ text: `Generate a short, touching wedding vow based on this user input: "${prompt}"` }]
                            }]
                        })
                    });

                    const result = await response.json();
                    const generatedText = result.candidates[0].content.parts[0].text;
                    vowOutput.innerHTML = `<p>${generatedText}</p>`;
                } catch (error) {
                    console.error('Error generating vow:', error);
                    vowOutput.innerHTML = '<p class="text-red-400">Sorry, something went wrong. Please try again.</p>';
                } finally {
                    loadingIndicator.classList.add('hidden');
                    submitVowBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
